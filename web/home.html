<!DOCTYPE html>
<head>

<script>

const data = { name: "alice", email: "alice@example.com" };

function submit() {
    const request = new Request("http://127.0.0.1:5000/v1/users", {
    method: "POST",
    body: JSON.stringify(data),
    });

    console.log("POST")
    fetch(request)
        .then((response) => response.json())
        .then((data) => {
            console.log(data)
            reload()
        });
}

function reload() {
    const request = new Request("http://127.0.0.1:5000/v1/users", { method: "GET", });

    console.log("GET")
    fetch(request)
        .then((response) => response.json())
        .then((data) => {
            document.getElementById("t1").innerHTML = data;
        });
}

</script>

</head>
<body style="text-align: center;">


<button onclick="reload()">Reload</button>

<div style="background: #eee; max-width: 500px; display: inline">
    <p id="t1"></p>
</div>

<div style="margin: 30px 0;">

<div style="margin: 25px 0">
    <p>Name</p>
    <input type="text" value="full name">

    <p>Email</p>
    <input type="text" value="value@example.com">
</div>

<button type="button" onclick="submit()"> Add </button>
</div>

<script>
reload()
</script>

</body>
</html>
